/* source_gutter_renderer_breakpoint.c generated by valac 0.44.0, the Vala compiler
 * generated from source_gutter_renderer_breakpoint.vala, do not modify */

#include <gtksourceview/gtksource.h>
#include <glib-object.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <gtk/gtk.h>
#include <glib.h>
#include <gdk/gdk.h>
#include <cairo.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>

#define VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT (vala_develop_source_gutter_renderer_break_point_get_type ())
#define VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, valaDevelopSourceGutterRendererBreakPoint))
#define VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, valaDevelopSourceGutterRendererBreakPointClass))
#define VALA_DEVELOP_IS_SOURCE_GUTTER_RENDERER_BREAK_POINT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT))
#define VALA_DEVELOP_IS_SOURCE_GUTTER_RENDERER_BREAK_POINT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT))
#define VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, valaDevelopSourceGutterRendererBreakPointClass))

typedef struct _valaDevelopSourceGutterRendererBreakPoint valaDevelopSourceGutterRendererBreakPoint;
typedef struct _valaDevelopSourceGutterRendererBreakPointClass valaDevelopSourceGutterRendererBreakPointClass;
typedef struct _valaDevelopSourceGutterRendererBreakPointPrivate valaDevelopSourceGutterRendererBreakPointPrivate;
enum  {
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_0_PROPERTY,
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_NUM_PROPERTIES
};
static GParamSpec* vala_develop_source_gutter_renderer_break_point_properties[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
#define __vala_GdkEventButton_free0(var) ((var == NULL) ? NULL : (var = (_vala_GdkEventButton_free (var), NULL)))
#define __vala_GdkEvent_free0(var) ((var == NULL) ? NULL : (var = (_vala_GdkEvent_free (var), NULL)))
enum  {
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_POPULATE_POPUP_SIGNAL,
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_ADD_BREAKPOINT_SIGNAL,
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_DEL_BREAKPOINT_SIGNAL,
	VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_NUM_SIGNALS
};
static guint vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_NUM_SIGNALS] = {0};

struct _valaDevelopSourceGutterRendererBreakPoint {
	GtkSourceGutterRendererPixbuf parent_instance;
	valaDevelopSourceGutterRendererBreakPointPrivate * priv;
};

struct _valaDevelopSourceGutterRendererBreakPointClass {
	GtkSourceGutterRendererPixbufClass parent_class;
};

struct _valaDevelopSourceGutterRendererBreakPointPrivate {
	GdkPixbuf* breakpointEnabled;
	GdkPixbuf* breakpointHit;
	GtkMenu* menu;
	gint _breakpointHit;
};

static gint valaDevelopSourceGutterRendererBreakPoint_private_offset;
static gpointer vala_develop_source_gutter_renderer_break_point_parent_class = NULL;

GType vala_develop_source_gutter_renderer_break_point_get_type (void) G_GNUC_CONST;
#define VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_toolTipText _ ("Toggle breakpoint")
valaDevelopSourceGutterRendererBreakPoint* vala_develop_source_gutter_renderer_break_point_new (void);
valaDevelopSourceGutterRendererBreakPoint* vala_develop_source_gutter_renderer_break_point_construct (GType object_type);
GdkPixbuf* vala_develop_globals_get_EmptyImage (void);
static gboolean vala_develop_source_gutter_renderer_break_point_real_query_tooltip (GtkSourceGutterRenderer* base,
                                                                             GtkTextIter* iter,
                                                                             GdkRectangle* area,
                                                                             gint x,
                                                                             gint y,
                                                                             GtkTooltip* tooltip);
void vala_develop_source_gutter_renderer_break_point_toggle (valaDevelopSourceGutterRendererBreakPoint* self,
                                                             GtkTextIter* iter,
                                                             gboolean redraw);
static void vala_develop_source_gutter_renderer_break_point_real_activate (GtkSourceGutterRenderer* base,
                                                                    GtkTextIter* iter,
                                                                    GdkRectangle* area,
                                                                    GdkEvent* evnt);
static GdkEventButton* _vala_GdkEventButton_copy (GdkEventButton* self);
static void _____lambda23_ (valaDevelopSourceGutterRendererBreakPoint* self,
                     GtkWidget* widget);
static void ______lambda23__gtk_callback (GtkWidget* widget,
                                   gpointer self);
static GVariant* _variant_new1 (gint value);
static void _vala_GdkEventButton_free (GdkEventButton* self);
void vala_develop_source_gutter_renderer_break_point_break_hit (valaDevelopSourceGutterRendererBreakPoint* self,
                                                                gint line,
                                                                gboolean redraw);
void vala_develop_source_gutter_renderer_break_point_move (valaDevelopSourceGutterRendererBreakPoint* self,
                                                           gint oldLine,
                                                           gint newLine,
                                                           gboolean redraw);
static void vala_develop_source_gutter_renderer_break_point_real_draw (GtkSourceGutterRenderer* base,
                                                                cairo_t* cr,
                                                                GdkRectangle* background_area,
                                                                GdkRectangle* cell_area,
                                                                GtkTextIter* start,
                                                                GtkTextIter* end,
                                                                GtkSourceGutterRendererState state);
static void _vala_GdkEvent_free (GdkEvent* self);
gboolean vala_develop_globals_rectangle_contains (GdkRectangle* rect,
                                                  gint x,
                                                  gint y);
static void vala_develop_source_gutter_renderer_break_point_finalize (GObject * obj);

static inline gpointer
vala_develop_source_gutter_renderer_break_point_get_instance_private (valaDevelopSourceGutterRendererBreakPoint* self)
{
	return G_STRUCT_MEMBER_P (self, valaDevelopSourceGutterRendererBreakPoint_private_offset);
}

valaDevelopSourceGutterRendererBreakPoint*
vala_develop_source_gutter_renderer_break_point_construct (GType object_type)
{
	valaDevelopSourceGutterRendererBreakPoint * self = NULL;
	GdkPixbuf* _tmp0_ = NULL;
	GdkPixbuf* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	GdkPixbuf* _tmp6_;
	GdkPixbuf* _tmp7_ = NULL;
	GdkPixbuf* _tmp8_;
	gint _tmp9_;
	gint _tmp10_;
	gint _tmp11_;
	gint _tmp12_;
	GdkPixbuf* _tmp13_;
	GdkPixbuf* _tmp14_;
	GdkPixbuf* _tmp15_;
	GError* _inner_error0_ = NULL;
	self = (valaDevelopSourceGutterRendererBreakPoint*) g_object_new (object_type, NULL);
	gtk_source_gutter_renderer_set_size ((GtkSourceGutterRenderer*) self, 16);
	g_object_set ((GtkSourceGutterRenderer*) self, "yalign", 0.5f, NULL);
	_tmp1_ = gdk_pixbuf_new_from_resource ("/valaDevelop/breakpoint.svg.png", &_inner_error0_);
	_tmp0_ = _tmp1_;
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return NULL;
	}
	_tmp2_ = gtk_source_gutter_renderer_get_size ((GtkSourceGutterRenderer*) self);
	_tmp3_ = _tmp2_;
	_tmp4_ = gtk_source_gutter_renderer_get_size ((GtkSourceGutterRenderer*) self);
	_tmp5_ = _tmp4_;
	_tmp6_ = gdk_pixbuf_scale_simple (_tmp0_, _tmp3_, _tmp5_, GDK_INTERP_BILINEAR);
	_g_object_unref0 (self->priv->breakpointEnabled);
	self->priv->breakpointEnabled = _tmp6_;
	_tmp8_ = gdk_pixbuf_new_from_resource ("/valaDevelop/breakpoint_hit.svg.png", &_inner_error0_);
	_tmp7_ = _tmp8_;
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		_g_object_unref0 (_tmp0_);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return NULL;
	}
	_tmp9_ = gtk_source_gutter_renderer_get_size ((GtkSourceGutterRenderer*) self);
	_tmp10_ = _tmp9_;
	_tmp11_ = gtk_source_gutter_renderer_get_size ((GtkSourceGutterRenderer*) self);
	_tmp12_ = _tmp11_;
	_tmp13_ = gdk_pixbuf_scale_simple (_tmp7_, _tmp10_, _tmp12_, GDK_INTERP_BILINEAR);
	_g_object_unref0 (self->priv->breakpointHit);
	self->priv->breakpointHit = _tmp13_;
	_tmp14_ = vala_develop_globals_get_EmptyImage ();
	_tmp15_ = _tmp14_;
	gtk_source_gutter_renderer_pixbuf_set_pixbuf ((GtkSourceGutterRendererPixbuf*) self, _tmp15_);
	_g_object_unref0 (_tmp7_);
	_g_object_unref0 (_tmp0_);
	return self;
}

valaDevelopSourceGutterRendererBreakPoint*
vala_develop_source_gutter_renderer_break_point_new (void)
{
	return vala_develop_source_gutter_renderer_break_point_construct (VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT);
}

static gboolean
vala_develop_source_gutter_renderer_break_point_real_query_tooltip (GtkSourceGutterRenderer* base,
                                                                    GtkTextIter* iter,
                                                                    GdkRectangle* area,
                                                                    gint x,
                                                                    gint y,
                                                                    GtkTooltip* tooltip)
{
	valaDevelopSourceGutterRendererBreakPoint * self;
	gboolean result = FALSE;
	self = (valaDevelopSourceGutterRendererBreakPoint*) base;
	g_return_val_if_fail (iter != NULL, FALSE);
	g_return_val_if_fail (area != NULL, FALSE);
	g_return_val_if_fail (tooltip != NULL, FALSE);
	gtk_tooltip_set_text (tooltip, VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_toolTipText);
	result = TRUE;
	return result;
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

void
vala_develop_source_gutter_renderer_break_point_toggle (valaDevelopSourceGutterRendererBreakPoint* self,
                                                        GtkTextIter* iter,
                                                        gboolean redraw)
{
	GtkTextBuffer* _tmp0_;
	GtkTextIter _tmp1_;
	GSList* _tmp2_;
	GSList* _tmp3_;
	gboolean _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (iter != NULL);
	gtk_text_iter_backward_chars (iter, gtk_text_iter_get_line_offset (iter));
	_tmp0_ = gtk_text_iter_get_buffer (iter);
	_tmp1_ = *iter;
	_tmp2_ = gtk_source_buffer_get_source_marks_at_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_source_buffer_get_type (), GtkSourceBuffer), &_tmp1_, "breakpoint");
	_tmp3_ = _tmp2_;
	_tmp4_ = g_slist_length (_tmp3_) > ((guint) 0);
	(_tmp3_ == NULL) ? NULL : (_tmp3_ = (g_slist_free (_tmp3_), NULL));
	if (_tmp4_) {
		GtkSourceMark* source_mark = NULL;
		GtkTextBuffer* _tmp5_;
		GtkTextIter _tmp6_;
		GSList* _tmp7_;
		GSList* _tmp8_;
		gconstpointer _tmp9_;
		GtkSourceMark* _tmp10_;
		GtkSourceMark* _tmp11_;
		GtkTextBuffer* _tmp12_;
		GtkSourceMark* _tmp13_;
		_tmp5_ = gtk_text_iter_get_buffer (iter);
		_tmp6_ = *iter;
		_tmp7_ = gtk_source_buffer_get_source_marks_at_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, gtk_source_buffer_get_type (), GtkSourceBuffer), &_tmp6_, "breakpoint");
		_tmp8_ = _tmp7_;
		_tmp9_ = g_slist_nth_data (_tmp8_, (guint) 0);
		_tmp10_ = _g_object_ref0 ((GtkSourceMark*) _tmp9_);
		_tmp11_ = _tmp10_;
		(_tmp8_ == NULL) ? NULL : (_tmp8_ = (g_slist_free (_tmp8_), NULL));
		source_mark = _tmp11_;
		_tmp12_ = gtk_text_iter_get_buffer (iter);
		_tmp13_ = source_mark;
		gtk_text_buffer_delete_mark ((GtkTextBuffer*) G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, gtk_source_buffer_get_type (), GtkSourceBuffer), (GtkTextMark*) _tmp13_);
		g_signal_emit (self, vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_DEL_BREAKPOINT_SIGNAL], 0, gtk_text_iter_get_line (iter));
		_g_object_unref0 (source_mark);
	} else {
		GtkTextBuffer* _tmp14_;
		GtkTextIter _tmp15_;
		_tmp14_ = gtk_text_iter_get_buffer (iter);
		_tmp15_ = *iter;
		gtk_source_buffer_create_source_mark (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, gtk_source_buffer_get_type (), GtkSourceBuffer), NULL, "breakpoint", &_tmp15_);
		g_signal_emit (self, vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_ADD_BREAKPOINT_SIGNAL], 0, gtk_text_iter_get_line (iter));
	}
	if (redraw) {
		gtk_source_gutter_renderer_queue_draw ((GtkSourceGutterRenderer*) self);
	}
}

static GdkEventButton*
_vala_GdkEventButton_copy (GdkEventButton* self)
{
	return g_boxed_copy (gdk_event_get_type (), self);
}

static gpointer
__vala_GdkEventButton_copy0 (gpointer self)
{
	return self ? _vala_GdkEventButton_copy (self) : NULL;
}

static void
_____lambda23_ (valaDevelopSourceGutterRendererBreakPoint* self,
                GtkWidget* widget)
{
	GtkMenu* _tmp0_;
	g_return_if_fail (widget != NULL);
	_tmp0_ = self->priv->menu;
	gtk_container_remove ((GtkContainer*) _tmp0_, widget);
}

static void
______lambda23__gtk_callback (GtkWidget* widget,
                              gpointer self)
{
	_____lambda23_ ((valaDevelopSourceGutterRendererBreakPoint*) self, widget);
}

static GVariant*
_variant_new1 (gint value)
{
	return g_variant_ref_sink (g_variant_new_int32 (value));
}

static void
_vala_GdkEventButton_free (GdkEventButton* self)
{
	g_boxed_free (gdk_event_get_type (), self);
}

static void
vala_develop_source_gutter_renderer_break_point_real_activate (GtkSourceGutterRenderer* base,
                                                               GtkTextIter* iter,
                                                               GdkRectangle* area,
                                                               GdkEvent* evnt)
{
	valaDevelopSourceGutterRendererBreakPoint * self;
	GdkEventButton* evntButton = NULL;
	GdkEventButton* _tmp0_;
	GdkEventButton* _tmp1_;
	self = (valaDevelopSourceGutterRendererBreakPoint*) base;
	g_return_if_fail (iter != NULL);
	g_return_if_fail (area != NULL);
	g_return_if_fail (evnt != NULL);
	_tmp0_ = __vala_GdkEventButton_copy0 ((GdkEventButton*) evnt);
	evntButton = _tmp0_;
	_tmp1_ = evntButton;
	if (_tmp1_ != NULL) {
		guint mouseButtonClicked = 0U;
		GdkEventButton* _tmp2_;
		gboolean _tmp3_ = FALSE;
		GdkEventButton* _tmp4_;
		GdkEventType _tmp5_;
		_tmp2_ = evntButton;
		mouseButtonClicked = _tmp2_->button;
		_tmp4_ = evntButton;
		_tmp5_ = _tmp4_->type;
		if (_tmp5_ == GDK_BUTTON_PRESS) {
			_tmp3_ = mouseButtonClicked == ((guint) 1);
		} else {
			_tmp3_ = FALSE;
		}
		if (_tmp3_) {
			GtkTextIter _tmp6_;
			_tmp6_ = *iter;
			vala_develop_source_gutter_renderer_break_point_toggle (self, &_tmp6_, FALSE);
		} else {
			gboolean _tmp7_ = FALSE;
			GdkEventButton* _tmp8_;
			GdkEventType _tmp9_;
			_tmp8_ = evntButton;
			_tmp9_ = _tmp8_->type;
			if (_tmp9_ == GDK_BUTTON_PRESS) {
				_tmp7_ = mouseButtonClicked == ((guint) 3);
			} else {
				_tmp7_ = FALSE;
			}
			if (_tmp7_) {
				GtkMenu* _tmp10_;
				GtkMenuItem* menuItem = NULL;
				GtkMenuItem* _tmp11_;
				GtkMenuItem* _tmp12_;
				GtkMenuItem* _tmp13_;
				GVariant* _tmp14_;
				GtkMenu* _tmp15_;
				GtkMenuItem* _tmp16_;
				GtkMenu* _tmp17_;
				GtkMenu* _tmp18_;
				GtkMenu* _tmp19_;
				GtkWidget* _tmp20_;
				GtkMenu* _tmp23_;
				_tmp10_ = self->priv->menu;
				gtk_container_foreach ((GtkContainer*) _tmp10_, ______lambda23__gtk_callback, self);
				_tmp11_ = (GtkMenuItem*) gtk_menu_item_new_with_mnemonic (_ ("_Toggle Breakpoint"));
				g_object_ref_sink (_tmp11_);
				menuItem = _tmp11_;
				_tmp12_ = menuItem;
				gtk_actionable_set_action_name ((GtkActionable*) _tmp12_, "contextmenu.ToggleBreakpoint");
				_tmp13_ = menuItem;
				_tmp14_ = _variant_new1 (gtk_text_iter_get_line (iter));
				gtk_actionable_set_action_target_value ((GtkActionable*) _tmp13_, _tmp14_);
				_g_variant_unref0 (_tmp14_);
				_tmp15_ = self->priv->menu;
				_tmp16_ = menuItem;
				gtk_container_add ((GtkContainer*) _tmp15_, (GtkWidget*) _tmp16_);
				_tmp17_ = self->priv->menu;
				gtk_widget_show_all ((GtkWidget*) _tmp17_);
				_tmp18_ = self->priv->menu;
				g_signal_emit (self, vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_POPULATE_POPUP_SIGNAL], 0, (GtkWidget*) _tmp18_);
				_tmp19_ = self->priv->menu;
				_tmp20_ = gtk_menu_get_attach_widget (_tmp19_);
				if (_tmp20_ == NULL) {
					GtkMenu* _tmp21_;
					GtkTextView* _tmp22_;
					_tmp21_ = self->priv->menu;
					_tmp22_ = gtk_source_gutter_renderer_get_view ((GtkSourceGutterRenderer*) self);
					gtk_menu_attach_to_widget (_tmp21_, (GtkWidget*) _tmp22_, NULL);
				}
				_tmp23_ = self->priv->menu;
				gtk_menu_popup_at_pointer (_tmp23_, evnt);
				_g_object_unref0 (menuItem);
				__vala_GdkEventButton_free0 (evntButton);
				return;
			}
		}
	}
	__vala_GdkEventButton_free0 (evntButton);
}

void
vala_develop_source_gutter_renderer_break_point_break_hit (valaDevelopSourceGutterRendererBreakPoint* self,
                                                           gint line,
                                                           gboolean redraw)
{
	g_return_if_fail (self != NULL);
	self->priv->_breakpointHit = line - 1;
	if (redraw) {
		gtk_source_gutter_renderer_queue_draw ((GtkSourceGutterRenderer*) self);
	}
}

void
vala_develop_source_gutter_renderer_break_point_move (valaDevelopSourceGutterRendererBreakPoint* self,
                                                      gint oldLine,
                                                      gint newLine,
                                                      gboolean redraw)
{
	GtkSourceBuffer* buffer = NULL;
	GtkTextView* _tmp0_;
	GtkTextView* _tmp1_;
	GtkTextBuffer* _tmp2_;
	GtkTextBuffer* _tmp3_;
	GtkSourceBuffer* _tmp4_;
	GtkTextIter iter = {0};
	GtkSourceBuffer* _tmp5_;
	GtkTextIter _tmp6_ = {0};
	GtkSourceMark* source_mark = NULL;
	GtkSourceBuffer* _tmp7_;
	GtkTextIter _tmp8_;
	GSList* _tmp9_;
	GSList* _tmp10_;
	gconstpointer _tmp11_;
	GtkSourceMark* _tmp12_;
	GtkSourceMark* _tmp13_;
	GtkSourceMark* _tmp14_;
	GtkSourceBuffer* _tmp17_;
	GtkTextIter _tmp18_ = {0};
	GtkSourceBuffer* _tmp19_;
	GtkTextIter _tmp20_;
	GSList* _tmp21_;
	GSList* _tmp22_;
	gboolean _tmp23_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_source_gutter_renderer_get_view ((GtkSourceGutterRenderer*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = gtk_text_view_get_buffer (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gtk_source_buffer_get_type (), GtkSourceBuffer));
	buffer = _tmp4_;
	_tmp5_ = buffer;
	gtk_text_buffer_get_start_iter ((GtkTextBuffer*) _tmp5_, &_tmp6_);
	iter = _tmp6_;
	gtk_text_iter_forward_lines (&iter, oldLine - 1);
	_tmp7_ = buffer;
	_tmp8_ = iter;
	_tmp9_ = gtk_source_buffer_get_source_marks_at_iter (_tmp7_, &_tmp8_, "breakpoint");
	_tmp10_ = _tmp9_;
	_tmp11_ = g_slist_nth_data (_tmp10_, (guint) 0);
	_tmp12_ = _g_object_ref0 ((GtkSourceMark*) _tmp11_);
	_tmp13_ = _tmp12_;
	(_tmp10_ == NULL) ? NULL : (_tmp10_ = (g_slist_free (_tmp10_), NULL));
	source_mark = _tmp13_;
	_tmp14_ = source_mark;
	if (_tmp14_ != NULL) {
		GtkSourceBuffer* _tmp15_;
		GtkSourceMark* _tmp16_;
		_tmp15_ = buffer;
		_tmp16_ = source_mark;
		gtk_text_buffer_delete_mark ((GtkTextBuffer*) _tmp15_, (GtkTextMark*) _tmp16_);
	}
	_tmp17_ = buffer;
	gtk_text_buffer_get_start_iter ((GtkTextBuffer*) _tmp17_, &_tmp18_);
	iter = _tmp18_;
	gtk_text_iter_forward_lines (&iter, newLine - 1);
	_tmp19_ = buffer;
	_tmp20_ = iter;
	_tmp21_ = gtk_source_buffer_get_source_marks_at_iter (_tmp19_, &_tmp20_, "breakpoint");
	_tmp22_ = _tmp21_;
	_tmp23_ = g_slist_length (_tmp22_) > ((guint) 0);
	(_tmp22_ == NULL) ? NULL : (_tmp22_ = (g_slist_free (_tmp22_), NULL));
	if (_tmp23_) {
		GtkSourceBuffer* _tmp24_;
		GtkTextIter _tmp25_;
		_tmp24_ = buffer;
		_tmp25_ = iter;
		gtk_source_buffer_create_source_mark (_tmp24_, NULL, "breakpoint", &_tmp25_);
	}
	if (redraw) {
		gtk_source_gutter_renderer_queue_draw ((GtkSourceGutterRenderer*) self);
	}
	_g_object_unref0 (source_mark);
	_g_object_unref0 (buffer);
}

static void
_vala_GdkEvent_free (GdkEvent* self)
{
	g_boxed_free (gdk_event_get_type (), self);
}

static void
vala_develop_source_gutter_renderer_break_point_real_draw (GtkSourceGutterRenderer* base,
                                                           cairo_t* cr,
                                                           GdkRectangle* background_area,
                                                           GdkRectangle* cell_area,
                                                           GtkTextIter* start,
                                                           GtkTextIter* end,
                                                           GtkSourceGutterRendererState state)
{
	valaDevelopSourceGutterRendererBreakPoint * self;
	GdkDisplay* display = NULL;
	GdkDisplay* _tmp0_;
	GdkDisplay* _tmp1_;
	GdkSeat* seat = NULL;
	GdkDisplay* _tmp2_;
	GdkSeat* _tmp3_;
	GdkSeat* _tmp4_;
	GdkDevice* device = NULL;
	GdkSeat* _tmp5_;
	GdkDevice* _tmp6_;
	GdkDevice* _tmp7_;
	gint x = 0;
	gint y = 0;
	GdkModifierType mask = 0;
	GtkTextView* _tmp8_;
	GtkTextView* _tmp9_;
	GdkWindow* _tmp10_;
	GdkDevice* _tmp11_;
	gint _tmp12_ = 0;
	gint _tmp13_ = 0;
	GdkModifierType _tmp14_ = 0;
	gint iterx = 0;
	gint itery = 0;
	GtkTextView* _tmp15_;
	GtkTextView* _tmp16_;
	gint _tmp17_ = 0;
	gint _tmp18_ = 0;
	GtkTextIter iter = {0};
	GtkTextView* _tmp19_;
	GtkTextView* _tmp20_;
	GtkTextIter _tmp21_ = {0};
	gboolean mark_list = FALSE;
	GtkTextBuffer* _tmp22_;
	GtkTextIter _tmp23_;
	GSList* _tmp24_;
	GSList* _tmp25_;
	gboolean _tmp26_;
	gboolean _tmp27_ = FALSE;
	GtkTextIter _tmp28_;
	GdkRectangle _tmp29_;
	GdkEvent* _tmp30_;
	GdkEvent* _tmp31_;
	gboolean _tmp32_;
	GdkRectangle _tmp41_;
	GdkRectangle _tmp42_;
	GtkTextIter _tmp43_;
	GtkTextIter _tmp44_;
	self = (valaDevelopSourceGutterRendererBreakPoint*) base;
	g_return_if_fail (cr != NULL);
	g_return_if_fail (background_area != NULL);
	g_return_if_fail (cell_area != NULL);
	g_return_if_fail (start != NULL);
	g_return_if_fail (end != NULL);
	_tmp0_ = gdk_display_get_default ();
	_tmp1_ = _g_object_ref0 (_tmp0_);
	display = _tmp1_;
	_tmp2_ = display;
	_tmp3_ = gdk_display_get_default_seat (_tmp2_);
	_tmp4_ = _g_object_ref0 (_tmp3_);
	seat = _tmp4_;
	_tmp5_ = seat;
	_tmp6_ = gdk_seat_get_pointer (_tmp5_);
	_tmp7_ = _g_object_ref0 (_tmp6_);
	device = _tmp7_;
	_tmp8_ = gtk_source_gutter_renderer_get_view ((GtkSourceGutterRenderer*) self);
	_tmp9_ = _tmp8_;
	_tmp10_ = gtk_text_view_get_window (_tmp9_, GTK_TEXT_WINDOW_WIDGET);
	_tmp11_ = device;
	gdk_window_get_device_position (_tmp10_, _tmp11_, &_tmp12_, &_tmp13_, &_tmp14_);
	x = _tmp12_;
	y = _tmp13_;
	mask = _tmp14_;
	iterx = 0;
	itery = 0;
	_tmp15_ = gtk_source_gutter_renderer_get_view ((GtkSourceGutterRenderer*) self);
	_tmp16_ = _tmp15_;
	gtk_text_view_window_to_buffer_coords (_tmp16_, GTK_TEXT_WINDOW_WIDGET, x, y, &_tmp17_, &_tmp18_);
	iterx = _tmp17_;
	itery = _tmp18_;
	_tmp19_ = gtk_source_gutter_renderer_get_view ((GtkSourceGutterRenderer*) self);
	_tmp20_ = _tmp19_;
	gtk_text_view_get_iter_at_location (_tmp20_, &_tmp21_, iterx, itery);
	iter = _tmp21_;
	gtk_text_iter_backward_chars (start, gtk_text_iter_get_line_offset (start));
	_tmp22_ = gtk_text_iter_get_buffer (start);
	_tmp23_ = *start;
	_tmp24_ = gtk_source_buffer_get_source_marks_at_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, gtk_source_buffer_get_type (), GtkSourceBuffer), &_tmp23_, "breakpoint");
	_tmp25_ = _tmp24_;
	_tmp26_ = g_slist_length (_tmp25_) > ((guint) 0);
	(_tmp25_ == NULL) ? NULL : (_tmp25_ = (g_slist_free (_tmp25_), NULL));
	mark_list = _tmp26_;
	_tmp28_ = iter;
	_tmp29_ = *cell_area;
	_tmp30_ = gdk_event_new (GDK_MOTION_NOTIFY);
	_tmp31_ = _tmp30_;
	_tmp32_ = gtk_source_gutter_renderer_query_activatable ((GtkSourceGutterRenderer*) self, &_tmp28_, &_tmp29_, _tmp31_);
	__vala_GdkEvent_free0 (_tmp31_);
	if (_tmp32_) {
		GdkRectangle _tmp33_;
		_tmp33_ = *cell_area;
		_tmp27_ = vala_develop_globals_rectangle_contains (&_tmp33_, x, y);
	} else {
		_tmp27_ = FALSE;
	}
	if (_tmp27_) {
		GdkPixbuf* _tmp34_;
		_tmp34_ = self->priv->breakpointEnabled;
		gtk_source_gutter_renderer_pixbuf_set_pixbuf ((GtkSourceGutterRendererPixbuf*) self, _tmp34_);
	} else {
		GdkPixbuf* _tmp35_ = NULL;
		if (mark_list) {
			GdkPixbuf* _tmp36_ = NULL;
			if (self->priv->_breakpointHit == gtk_text_iter_get_line (start)) {
				GdkPixbuf* _tmp37_;
				_tmp37_ = self->priv->breakpointHit;
				_tmp36_ = _tmp37_;
			} else {
				GdkPixbuf* _tmp38_;
				_tmp38_ = self->priv->breakpointEnabled;
				_tmp36_ = _tmp38_;
			}
			_tmp35_ = _tmp36_;
		} else {
			GdkPixbuf* _tmp39_;
			GdkPixbuf* _tmp40_;
			_tmp39_ = vala_develop_globals_get_EmptyImage ();
			_tmp40_ = _tmp39_;
			_tmp35_ = _tmp40_;
		}
		gtk_source_gutter_renderer_pixbuf_set_pixbuf ((GtkSourceGutterRendererPixbuf*) self, _tmp35_);
	}
	_tmp41_ = *background_area;
	_tmp42_ = *cell_area;
	_tmp43_ = *start;
	_tmp44_ = *end;
	GTK_SOURCE_GUTTER_RENDERER_CLASS (vala_develop_source_gutter_renderer_break_point_parent_class)->draw ((GtkSourceGutterRenderer*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_source_gutter_renderer_pixbuf_get_type (), GtkSourceGutterRendererPixbuf), cr, &_tmp41_, &_tmp42_, &_tmp43_, &_tmp44_, state);
	_g_object_unref0 (device);
	_g_object_unref0 (seat);
	_g_object_unref0 (display);
}

static void
vala_develop_source_gutter_renderer_break_point_class_init (valaDevelopSourceGutterRendererBreakPointClass * klass,
                                                            gpointer klass_data)
{
	vala_develop_source_gutter_renderer_break_point_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &valaDevelopSourceGutterRendererBreakPoint_private_offset);
	((GtkSourceGutterRendererClass *) klass)->query_tooltip = (gboolean (*) (GtkSourceGutterRenderer*, GtkTextIter*, GdkRectangle*, gint, gint, GtkTooltip*)) vala_develop_source_gutter_renderer_break_point_real_query_tooltip;
	((GtkSourceGutterRendererClass *) klass)->activate = (void (*) (GtkSourceGutterRenderer*, GtkTextIter*, GdkRectangle*, GdkEvent*)) vala_develop_source_gutter_renderer_break_point_real_activate;
	((GtkSourceGutterRendererClass *) klass)->draw = (void (*) (GtkSourceGutterRenderer*, cairo_t*, GdkRectangle*, GdkRectangle*, GtkTextIter*, GtkTextIter*, GtkSourceGutterRendererState)) vala_develop_source_gutter_renderer_break_point_real_draw;
	G_OBJECT_CLASS (klass)->finalize = vala_develop_source_gutter_renderer_break_point_finalize;
	vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_POPULATE_POPUP_SIGNAL] = g_signal_new ("populate-popup", VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, gtk_widget_get_type ());
	vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_ADD_BREAKPOINT_SIGNAL] = g_signal_new ("add-breakpoint", VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__INT, G_TYPE_NONE, 1, G_TYPE_INT);
	vala_develop_source_gutter_renderer_break_point_signals[VALA_DEVELOP_SOURCE_GUTTER_RENDERER_BREAK_POINT_DEL_BREAKPOINT_SIGNAL] = g_signal_new ("del-breakpoint", VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__INT, G_TYPE_NONE, 1, G_TYPE_INT);
}

static void
vala_develop_source_gutter_renderer_break_point_instance_init (valaDevelopSourceGutterRendererBreakPoint * self,
                                                               gpointer klass)
{
	GtkMenu* _tmp0_;
	self->priv = vala_develop_source_gutter_renderer_break_point_get_instance_private (self);
	_tmp0_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp0_);
	self->priv->menu = _tmp0_;
	self->priv->_breakpointHit = -1;
}

static void
vala_develop_source_gutter_renderer_break_point_finalize (GObject * obj)
{
	valaDevelopSourceGutterRendererBreakPoint * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VALA_DEVELOP_TYPE_SOURCE_GUTTER_RENDERER_BREAK_POINT, valaDevelopSourceGutterRendererBreakPoint);
	_g_object_unref0 (self->priv->breakpointEnabled);
	_g_object_unref0 (self->priv->breakpointHit);
	_g_object_unref0 (self->priv->menu);
	G_OBJECT_CLASS (vala_develop_source_gutter_renderer_break_point_parent_class)->finalize (obj);
}

GType
vala_develop_source_gutter_renderer_break_point_get_type (void)
{
	static volatile gsize vala_develop_source_gutter_renderer_break_point_type_id__volatile = 0;
	if (g_once_init_enter (&vala_develop_source_gutter_renderer_break_point_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (valaDevelopSourceGutterRendererBreakPointClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_develop_source_gutter_renderer_break_point_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (valaDevelopSourceGutterRendererBreakPoint), 0, (GInstanceInitFunc) vala_develop_source_gutter_renderer_break_point_instance_init, NULL };
		GType vala_develop_source_gutter_renderer_break_point_type_id;
		vala_develop_source_gutter_renderer_break_point_type_id = g_type_register_static (gtk_source_gutter_renderer_pixbuf_get_type (), "valaDevelopSourceGutterRendererBreakPoint", &g_define_type_info, 0);
		valaDevelopSourceGutterRendererBreakPoint_private_offset = g_type_add_instance_private (vala_develop_source_gutter_renderer_break_point_type_id, sizeof (valaDevelopSourceGutterRendererBreakPointPrivate));
		g_once_init_leave (&vala_develop_source_gutter_renderer_break_point_type_id__volatile, vala_develop_source_gutter_renderer_break_point_type_id);
	}
	return vala_develop_source_gutter_renderer_break_point_type_id__volatile;
}

